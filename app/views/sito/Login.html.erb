<html>
<head>
  <title>Pc Builder</title>
  <link rel="stylesheet" href="login.css">
  <title>barra</title>
</head>

<header>
  <div class="container">
    <h1 class="logo"></h1>

    <img src="logo/logo.png" alt="logo" class="logo">
    <nav>
      <ul>
        <li><a href="#">Home</a></li>
        <li><a href="#">componenti</a></li>

        <li><a href="#">assistenza</a></li>
        <li><a href="#">carrello</a></li>

        <li><a href="#">user</a></li>

      </ul>
    </nav>
  </div>
</header>

<title>login</title>
<link rel="stylesheet" type="text/css" href="login.css">

<body>

<div class="verde">
</div>

<div class="loginbox">
  <h1>login</h1>
  <form method='GET' action=''  >
    <p>Username</p>
    <input type="text"  placeholder="Enter Username" id="nome" name="nome">
    <p>Password</p>
    <input type="password"  placeholder="Enter Password" id="pass" name="pass">
    <input type="submit" name="log" id="log" value="Login">
    <a href="#">password dimenticata</a><br>
    <a href="#">sign in?</a>
  </form>
</div>
<%=

  $b= request.original_url
  require 'cgi'
  $url = CGI.parse($b)

  $nome=$url["http://127.0.0.1:3000/sito/Login?nome"]
  $pass=$url["pass"]

  if !$nome.empty? and !$pass.empty?

    require 'sqlite3'
    db = SQLite3::Database.open('Data.db')
    db.results_as_hash = true
    $riga = db.execute("SELECT * FROM Login")

    (0..$riga.length - 1).each { |a|
      if $riga[a]["Nome"].eql? $nome.first and $riga[a]["Password"].eql? $pass.first
        concat "login riuscito"
        break
      end
    }

  end
%>

</body>
</head>
</html>